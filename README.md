TODO:
add config file
improve log file
better exception handling
separate logic from setup
